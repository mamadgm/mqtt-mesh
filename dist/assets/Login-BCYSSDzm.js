import{g as J,r as v,w as B,c as M,i as O,n as T,d as D,a as j,v as z,u as r,o as w,b as y,e as F,f as L,h as R,j as c,k as p,_ as q,l as A,m as G,p as H,q as K,s as P,t as V,x as Q,y as W,z as X,A as I,B as Y}from"./index-c59S8iUR.js";function Z(s){return JSON.parse(JSON.stringify(s))}function ee(s,e,n,u={}){var t,f,d;const{clone:o=!1,passive:l=!1,eventName:m,deep:h=!1,defaultValue:E,shouldEmit:$}=u,i=J(),N=n||(i==null?void 0:i.emit)||((t=i==null?void 0:i.$emit)==null?void 0:t.bind(i))||((d=(f=i==null?void 0:i.proxy)==null?void 0:f.$emit)==null?void 0:d.bind(i==null?void 0:i.proxy));let _=m;_=_||`update:${e.toString()}`;const S=a=>o?typeof o=="function"?o(a):Z(a):a,k=()=>O(s[e])?S(s[e]):E,C=a=>{$?$(a)&&N(_,a):N(_,a)};if(l){const a=k(),b=v(a);let x=!1;return B(()=>s[e],g=>{x||(x=!0,b.value=S(g),T(()=>x=!1))}),B(b,g=>{!x&&(g!==s[e]||h)&&C(g)},{deep:h}),b}else return M({get(){return k()},set(a){C(a)}})}const U=D({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(s,{emit:e}){const n=s,t=ee(n,"modelValue",e,{passive:!0,defaultValue:n.defaultValue});return(f,d)=>j((w(),y("input",{"onUpdate:modelValue":d[0]||(d[0]=o=>R(t)?t.value=o:null),"data-slot":"input",class:F(r(L)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n.class))},null,2)),[[z,r(t)]])}}),te={class:"flex items-center justify-center h-screen"},ae={key:0,class:"text-red-500 text-sm font-bold text-left"},se=D({__name:"Login",setup(s){const e=v(""),n=v(""),u=v(!1),t=v(""),f=A();async function d(){t.value="",u.value=!0;try{const o=await Y(e.value,n.value);localStorage.setItem("auth_access_token",o.access_token),f.push("/")}catch{t.value="Invalid credentials."}finally{u.value=!1}}return(o,l)=>(w(),y("div",te,[c(r(q),{class:"w-full max-w-md p-6 space-y-4"},{default:p(()=>[c(r(K),null,{default:p(()=>[c(r(P),{class:"text-2xl"},{default:p(()=>l[2]||(l[2]=[V("ورود")])),_:1,__:[2]}),c(r(Q),{class:"text-lg"},{default:p(()=>l[3]||(l[3]=[V("اکانت و پسورد خود را وارد کنید")])),_:1,__:[3]})]),_:1}),G("form",{onSubmit:W(d,["prevent"]),class:"space-y-4"},[c(r(U),{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=m=>e.value=m),placeholder:"شماره تلفن"},null,8,["modelValue"]),c(r(U),{modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=m=>n.value=m),type:"password",placeholder:"رمز عبور"},null,8,["modelValue"]),c(r(X),{type:"submit",class:"w-full text-2xl p-6",disabled:u.value},{default:p(()=>[V(I(u.value?"صبرکنید...":"ورود"),1)]),_:1},8,["disabled"])],32),t.value?(w(),y("p",ae,I(t.value),1)):H("",!0)]),_:1})]))}});export{se as default};
